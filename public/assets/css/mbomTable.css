/* MBOM table shared styles (moved from searchMBOM.ejs) */

/* Truncate long table cell content with an ellipsis (responsive fallbacks) */
.ellipsis {
    display: inline-block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    vertical-align: middle;
}

/* Items table: make the last column fixed width (actions), other
   columns responsive and proportional. Use table-layout: fixed so
   widths are predictable; tweak percentages per breakpoint below. */
.items-table { table-layout: fixed; width: 100%; }
.items-table th, .items-table td { vertical-align: middle; }

/* Fixed column widths */
.items-table .actions-col { width: 155px; min-width: 155px; max-width: 155px; white-space: nowrap; }

/* Default proportional widths (these are percentages of the full table width) */
.items-table .qty-col      { width: 7%; }
.items-table .type-col     { width: 13%; }
.items-table .mfg-col      { width: 15%; }
.items-table .desc-col     { width: 30%; }
.items-table .pn-col       { width: 18%; }
.items-table .section-col  { width: 9%; }
.items-table .ship-col     { width: 9%; }

/* Small screens: give more room to description and allow columns to reflow */
@media (max-width: 575.98px) {
    .items-table { table-layout: auto; }
    .items-table .qty-col      { width: 8%; }
    .items-table .type-col     { width: 18%; }
    .items-table .mfg-col      { width: 18%; }
    .items-table .desc-col     { width: 34%; }
    .items-table .pn-col       { width: 12%; }
    .items-table .section-col  { width: 6%; }
    .items-table .ship-col     { width: 4%; }
}

/* Breakers table: proportional widths, with slightly different priorities.
   Reduce percentage allocation so a fixed actions column doesn't
   force the table to overflow. Make the table block-scrollable on very
   small widths to avoid layout breakage. */
.breakers-table { table-layout: fixed; width: 100%; max-width: 100%; box-sizing: border-box; }
.breakers-table th, .breakers-table td { vertical-align: middle; box-sizing: border-box; }

/* Fixed actions column */
.breakers-table .actions-col { width: 155px; min-width: 155px; max-width: 155px; white-space: nowrap; }

.breakers-table .device-col   { width: 18%; }
.breakers-table .mfg-col      { width: 12%; }
.breakers-table .brkpn-col    { width: 22%; }
.breakers-table .cradle-col   { width: 24%; }
.breakers-table .brksection-col { width: 24%; }

/* Small viewport: horizontal scroll to avoid layout breakage */
@media (max-width: 575.98px) {
    .breakers-table { table-layout: auto; display: block; overflow-x: auto; -webkit-overflow-scrolling: touch; }
    .breakers-table thead, .breakers-table tbody, .breakers-table tr { display: table; width: 100%; table-layout: auto; }
    .breakers-table .device-col   { width: auto; }
    .breakers-table .cat-col      { width: auto; }
    .breakers-table .brkpn-col    { width: auto; }
    .breakers-table .cradle-col   { width: auto; }
    .breakers-table .brksection-col { width: auto; }
}

/* Truncate overflowing text inside the configured groupable tables. */
.items-table th, .items-table td,
.breakers-table th, .breakers-table td {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
}

/* Table header styling: gray background, bold white text for both tables */
.items-table thead th,
.breakers-table thead th {
    background-color: #6c757d; /* Bootstrap secondary / medium gray */
    color: #ffffff;
    font-weight: 700;
    border-bottom: 1px solid rgba(255,255,255,0.08);
    vertical-align: middle;
    text-align: left;
}

/* Ensure interactive elements in headers inherit the white color */
.items-table thead th *,
.breakers-table thead th * {
    color: inherit;
}

/* Small select column for row checkboxes */
.select-col { width: 44px; text-align: center; }
.items-table td input[type="checkbox"],
.breakers-table td input[type="checkbox"] {
    vertical-align: middle;
    margin: 0;
}

/* Make select-column checkboxes slightly larger and centered */
.items-table thead th.select-col input[type="checkbox"],
.breakers-table thead th.select-col input[type="checkbox"],
.items-table tbody td:first-child input[type="checkbox"],
.breakers-table tbody td:first-child input[type="checkbox"] {
    transform: scale(1.05);
    transform-origin: center;
    margin: 0 2px;
    /* width/height are best-effort; browsers may ignore these for native checkboxes */
    width: 18px;
    height: 18px;
}

/* Don't truncate the select column (header and first cell) so checkboxes remain fully visible */
.items-table thead th.select-col,
.breakers-table thead th.select-col,
.items-table tbody td:first-child,
.breakers-table tbody td:first-child {
    white-space: normal;
    overflow: visible;
    text-overflow: clip;
}

/* Reduce vertical padding in table body rows for MBOM tables only.
   Override global table padding so rows use 5px top/bottom (keep horizontal padding). */
.items-table > tbody > tr > td,
.items-table > tbody > tr > th,
.breakers-table > tbody > tr > td,
.breakers-table > tbody > tr > th {
    padding-top: 7px;
    padding-bottom: 7px;
    padding-left: 12px; /* keep horizontal spacing similar to global rules */
    padding-right: 12px;
}

/* Ensure inner ellipsis spans behave correctly and can use full cell width */
.items-table td > .ellipsis,
.breakers-table td > .ellipsis {
    display: inline-block;
    width: 100%;
    vertical-align: middle;
}

/* --- existing breaker-specific rules copied from previous mbomBrkTable.css --- */
.datatable{
    border-collapse: collapse;
    border-spacing: 0;
    width: 100%;
}

.no-transition {
    -webkit-transition: height 0.001s;
    -moz-transition: height 0.001s;
    -ms-transition: height 0.001s;
    -o-transition: height 0.001s;
    transition: height 0.001s;
}

.accordion-body{
    background-color: #f2f2f2;
    padding: .5% 2% 1% 2%;
    max-height: none;
}

#brkAccTable{
    width: 100%;
    background-color: white;
}

#bomTable{
    width: 100%;
    background-color: white;
}

#brkAccTD{
    padding: 0 !important;
}

#bomTD{
    padding: 0 !important;
}

.fa-angle-down{
    float: right;
}
