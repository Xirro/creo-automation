<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title><%= title %></title>
    <meta content="Quote Detail" name="SAI-APS-Portal" />
    <link rel="shortcut icon" href="/public/assets/images/SAI-Logo.JPG">
    <link rel="stylesheet" href="/public/plugins/morris/morris.css">

    <link href="/public/plugins/RWD-Table-Patterns/dist/css/rwd-table.min.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="/public/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css" rel="stylesheet" />
    <link href="/public/plugins/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css" rel="stylesheet" />
    <link href="/public/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css" />
    <link href="/public/plugins/bootstrap-touchspin/css/jquery.bootstrap-touchspin.min.css" rel="stylesheet" />

    <link href="/public/assets/css/breakerDragDrop.css" rel="stylesheet" type="text/css" />

    <!-- ION Slider -->
    <link href="/public/plugins/ion-rangeslider/ion.rangeSlider.css" rel="stylesheet" type="text/css"/>
    <link href="/public/plugins/ion-rangeslider/ion.rangeSlider.skinModern.css" rel="stylesheet" type="text/css"/>

    <link href="/public/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/public/assets/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/public/assets/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/public/assets/css/style.css" rel="stylesheet" type="text/css">

    <link href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css">

    <script src="/public/assets/js/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#mbomSumTable').DataTable({
                "scrollCollapse": true,
                "paging": true,
                "pagingType": "simple"
            });
        });
    </script>

    <script>
        $(document).ready(function() {
            $('#mbomComItemTable').DataTable({
                "scrollCollapse": true,
                "paging": true,
                "pagingType": "simple"
            });
        });
    </script>
</head>

<body>
<div id="wrapper">

    <%- include('../partials/header') %>
    <%- include('../partials/sidebar') %>



<!-- Content Start -->
<div class="content-page">
<div class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-12">
                <div class="page-title-box">
                    <h4 class="page-title">Mechanical Engineering - BOM's</h4>
                    <div class="row justify-content-center">
                        <div class="col-sm-5">
                            <div class="card m-b-20" style="height:94%;">
                                <div class="card-body">
                                    <h4 class="mt-0 header-title">Create Job</h4>
                                    <h6 style="color:red;"><%= message %></h6>
                                    <form id="createJobForm" class="createJobForm" action="" method="POST">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-sm-8">
                                                    <label for="example-text-input" class="col-form-label">Job #</label>
                                                    <input type="text" name="jobNum" class="form-control" value="" placeholder="Type Number Here" id="example-text-input" autocomplete="off" required>
                                                </div>
                                                <div class="col-sm-4">
                                                    <label for="example-text-input" class="col-form-label">Release</label>
                                                    <input type="text" name="releaseNum" class="form-control" value="" placeholder="Type Release Here" id="example-text-input" autocomplete="off" required>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <label for="example-text-input" class="col-form-label">Job Name</label>
                                                    <input type="text" name="jobName" class="form-control" value="" placeholder="Type Name Here" id="example-text-input" autocomplete="off" required>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <label for="example-text-input" class="col-form-label">Customer</label>
                                                    <input type="text" name="customer" class="form-control" value="" placeholder="Type Customer Here" id="example-text-input" autocomplete="off" required>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <label for="example-text-input" class="col-form-label">Board Designation</label>
                                                    <input type="text" name="boardDesignation" class="form-control" value="" placeholder="Type Designation Here" id="example-text-input" autocomplete="off" required>
                                                </div>
                                            </div>
                                            <div class="row justify-content-center">
                                                <div class="col-sm-3" style="margin-top:1%;">
                                                    <input class="form-check-input" type="checkbox" value="true" name="noSectionMBOM" id="noSectionMBOM">
                                                    <label for="noSectionMBOM" class="form-check-label">No Section MBOM</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row justify-content-center">
                                            <div class="col-6">
                                                <button id="createBtn" type="submit" class="btn-block btn-lg btn-outline-success waves-effect waves-light" formaction="/createMBOM">Create New</button>
                                            </div>
                                            <div class="col-6">
                                                <input id="copyBtn" type="button" value="Copy From Existing" class="btn-block btn-lg btn-outline-secondary waves-effect waves-light" data-toggle="modal" data-target="#copyMBOMModal"/>
                                                <!-- Modal -->
                                                <div class="modal fade" id="copyMBOMModal" tabindex="-1" role="dialog" aria-labelledby="copyMBOMModalTitle" aria-hidden="true">
                                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLongTitle">MBOM Search</h5>
                                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                    <span aria-hidden="true">&times;</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <form id="copyMBOMForm" class="copyMBOMForm" action="" method="POST">
                                                                    <div class="form-group">
                                                                        <p class="mb-0" style="font-size: medium">
                                                                            Please fill out the following and click "Copy" afterwards
                                                                        </p>
                                                                        <p class="text-muted m-b-5"></p>
                                                                        <div class="row">
                                                                            <div class="col-sm-12">
                                                                                <label for="example-text-input" class="col-form-label" style="font-size: small">Job Number</label>
                                                                                <input type="text" name="copyJobNum" class="form-control" value="" placeholder="Type Number Here" id="example-text-input" autocomplete="off">
                                                                            </div>
                                                                        </div>
                                                                        <p class="text-muted m-b-10"></p>
                                                                        <div class="row">
                                                                            <div class="col-sm-12">
                                                                                <label for="example-text-input" class="col-form-label" style="font-size: small">Release</label>
                                                                                <input type="text" name="copyReleaseNum" class="form-control" value="" placeholder="Type Release Here" id="example-text-input" autocomplete="off">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                            <div class="modal-footer justify-content-center">
                                                                    <div class="w-50">
                                                                    <button id="copyModalBtn" type="submit" class="btn-block btn-lg btn-info" formaction="/copyMBOM">Copy</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- END MODAL -->
                                            </div>
                                        </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-7">
                            <div class="card m-b-20">
                                <div class="card-body">
                                    <h4 class="mt-0 header-title">Lookup Job</h4>
                                        <p></p>
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <table id="mbomSumTable" class="table table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%; display: block; overflow: auto;">
                                                    <thead>
                                                        <tr class="header">
                                                            <th style="display:none;">mbomID</th>
                                                            <th style="width:8%;">Job #</th>
                                                            <th style="width:5%;">Release</th>
                                                            <th style="width:22%;">Job Name</th>
                                                            <th style="width:18%;">Customer</th>
                                                            <th style="width:25%;">Board Designation</th>
                                                            <th style="width:10%;"></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    <% if(!mbomData) { %>
                                                    <% } else { %>
                                                        <% if (mbomData.length != 0) { %>
                                                            <% for (var i = 0; i < mbomData.length; i++) { %>
                                                            <tr>
                                                                <td style="display:none;"><%=mbomData[i].mbomID%></td>
                                                                <td><%=mbomData[i].jobNum%></td>
                                                                <td><%=mbomData[i].releaseNum%></td>
                                                                <td><%=mbomData[i].jobName%></td>
                                                                <td><%=mbomData[i].customer%></td>
                                                                <td><%=mbomData[i].boardDesignation%></td>
                                                                <td><a href="./searchMBOM/?bomID=<%=mbomData[i].jobNum%><%=mbomData[i].releaseNum%>_<%=mbomData[i].mbomID%>"><button id="openBtn" class="btn-block btn btn-outline-secondary waves-effect waves-light">Open</button></a></td>
                                                            </tr>
                                                            <% } %>
                                                        <% } %>
                                                    <% } %>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card m-b-20" style="height:94%;">
                            <div class="card-body">
                                <h4 class="mt-0 header-title">Commonly Used Items</h4>
                                <div class="row justify-content-center">
                                    <div class="col-sm-12">
                                        <table id="mbomComItemTable" class="table table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                                            <thead>
                                            <tr class="header">
                                                <th style="display:none;">ID</th>
                                                <th style="width:10%;">Item Type</th>
                                                <th style="width:10%;">Manufacturer</th>
                                                <th style="width:25%;">Description</th>
                                                <th style="width:20%;">P/N</th>
                                                <th style="width:10%;">Cat. Code</th>
                                                <th style="width:15%;">Status</th>
                                                <th style="width:10%;"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <% if(!comItemData) { %>
                                            <% } else { %>
                                                <% if (comItemData.length != 0) { %>
                                                    <% for (let i = 0; i < comItemData.length; i++) { %>
                                                    <tr>
                                                        <td style="display:none;"><%=comItemData[i].comItemID%></td>
                                                        <td><%=comItemData[i].itemType%></td>
                                                        <td><%=comItemData[i].itemMfg%></td>
                                                        <td><%=comItemData[i].itemDesc%></td>
                                                        <td><%=comItemData[i].itemPN%></td>
                                                        <td><%=comItemData[i].catCode%></td>
                                                        <td><%=comItemData[i].status%></td>
                                                        <td><a href="./editComItemTableGET/?comItemID=<%=comItemData[i].comItemID%>"><button id="editBtn" class="btn-block btn btn-outline-warning waves-effect waves-light">Edit</button></a></td>
                                                    </tr>
                                                    <% } %>
                                                <% } %>
                                            <% } %>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="row justify-content-center">
                                    <div class="col-sm-2">
                                        <a href="./createComItem"><button class="btn-block btn-lg btn-outline-success waves-effect waves-light">Add</button></a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</div> <!-- content-page -->
<!-- footer -->
<footer class="footer">
    © 2021 SAI, Advanced Power Solutions Inc.
</footer>
</div> <!-- wrapper -->


<!-- Responsive-table-->
<script src="/public/plugins/RWD-Table-Patterns/dist/js/rwd-table.min.js"></script>
<script>
    $(function() {
        $('.table-responsive').responsiveTable({
            addDisplayAllBtn: 'btn btn-secondary'
        });
    });
</script>

<!-- Plugins js -->
<script src="/public/plugins/morris/morris.min.js"></script>
<script src="/public/plugins/raphael/raphael-min.js"></script>
<script src="/public/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<script src="/public/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
<script src="/public/plugins/select2/js/select2.min.js"></script>
<script src="/public/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js"></script>
<script src="/public/plugins/bootstrap-filestyle/js/bootstrap-filestyle.min.js"></script>
<script src="/public/plugins/bootstrap-touchspin/js/jquery.bootstrap-touchspin.min.js"></script>
<script src="/public/plugins/ion-rangeslider/ion.rangeSlider.min.js"></script>
<script src="/public/plugins/jquery-sparkline/jquery.sparkline.min.js"></script>

<!-- Assets js -->
<script src="/public/assets/js/bootstrap.bundle.min.js"></script>
<script src="/public/assets/js/metisMenu.min.js"></script>
<script src="/public/assets/js/jquery.slimscroll.js"></script>
<script src="/public/assets/js/waves.min.js"></script>
<script src="/public/assets/pages/dashboard.js"></script>
<script src="/public/assets/pages/rangeslider-init.js"></script>
<script src="/public/assets/pages/form-advanced.js"></script>
<script src="/public/assets/js/breakerDragDrop.js"></script>
<script src="/public/assets/js/app.js"></script>
<script src="/public/assets/js/pdfDxfBinBomCheck.js"></script>




</body>
</html>

